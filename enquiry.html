<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Enquiry Form</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f9f9f9;
            padding: 40px;
        }

        .enquiry-container {
            max-width: 550px;
            margin: auto;
            padding: 20px;
            background: #fff;
            border-color: rgb(212, 20, 84);
            border-radius: 10px;
            box-shadow: 0px 2px 10px rgba(0,0,0,0.1);
        }

        .enquiry-title {
            text-align:center;
            color:rgb(212, 20, 84);
            font-size: 2.5rem;
        }

        .enquiry-title:hover {
            color: rgb(255, 0, 102); /* hover color */
            cursor: pointer;
        }

        .error-message {
            color: red;
            font-weight: 600;
            margin-bottom: 15px;
            display: none;
        }

        .success-msg {
            color: green;
            font-weight: bold;
            margin-bottom: 15px;
            display: none; /* hidden by default */
            opacity: 1;
            transition: opacity 0.6s ease;
        }

        label {
            font-weight: bold;
        }

        input, select, textarea {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 15px;
        }

        .error-text {
            color: red;
            font-size: 14px;
            margin-top: -10px;
            margin-bottom: 10px;
            display: none;
        }

        button {
            width: 100%;
            padding: 12px;
            background: #004b73;
            color: #fff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 17px;
            font-weight: bold;
        }

        button:hover {
            background: #0068a4;
        }
        /* Close (X) Button */
        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            color: rgb(212, 20, 84);
            text-decoration: none;
            cursor: pointer;
        }

        .close-btn:hover {
            color: rgb(255, 0, 102);
        }

    </style>
</head>

<body>

<div class="enquiry-container">
    <div id="topError" class="error-message">All fields are required to submit this form.</div>
    <p id="successMessage" class="success-msg">Your application was submitted successfully.</p>

    <h2 class="enquiry-title"><b>Enquiry Form</b></h2>
    <a href="index.html" class="close-btn">Ã—</a>
    <form id="enquiryForm">

        <!-- NAME -->
        <label>Name *</label>
        <input type="text" id="name" />
        <div id="nameError" class="error-text">Name must contain letters only.</div>

        <!-- MOBILE -->
        <label>Mobile Number *</label>
        <input type="text" id="mobile" placeholder="+91XXXXXXXXXX" />
        <div id="mobileError" class="error-text">Mobile must start with +91 and contain 10 digits.</div>

        <!-- EMAIL -->
        <label>Email *</label>
        <input type="text" id="email" />
        <div id="emailError" class="error-text">Email must be in correct format (example: xyz@gmail.com).</div>

        <!-- MESSAGE -->
        <label>Message *</label>
        <textarea id="message" rows="5" maxlength="5000"></textarea>
        <div id="messageError" class="error-text">Message cannot be empty.</div>

        <!-- SELECT COURSE -->
        <label>Select Course *</label>
        <select id="course">
            <option value="">-- Select Course --</option>
            <option>Medical Writing</option>
            <option>Pharmacovigilance</option>
            <option>Clinical Research</option>
            <option>Clinical Data Management</option>
            <option>Regulatory Affairs</option>
            <option>Clinical Informatics</option>
            <option>SAS, Data Analytics</option>
            <option>Advanced HealthTech Consultant Program</option>
        </select>
        <div id="courseError" class="error-text">Please select one course.</div>

        <button type="submit">Submit</button>

    </form>
</div>


<script>
    // Helper to show an element (block)
    function show(el) {
        el.style.display = 'block';
        el.style.opacity = '1';
    }
    // Helper to hide an element
    function hide(el) {
        el.style.display = 'none';
        el.style.opacity = '0';
    }

    // Auto-hide with fade for success message (10s)
    function showSuccessMessageWithTimeout() {
        const msg = document.getElementById("successMessage");
        show(msg);

        // after 9.6s start fade then hide at 10s
        setTimeout(() => {
            msg.style.opacity = '0';
        }, 9600);

        setTimeout(() => {
            hide(msg);
            msg.style.opacity = '1'; // reset opacity for next time
        }, 10000);
    }

    document.getElementById("enquiryForm").addEventListener("submit", function(e) {
        e.preventDefault();

        let name = document.getElementById("name").value.trim();
        let mobile = document.getElementById("mobile").value.trim();
        let email = document.getElementById("email").value.trim();
        let message = document.getElementById("message").value.trim();
        let course = document.getElementById("course").value;

        let isValid = true;

        // Reset all errors
        document.querySelectorAll(".error-text").forEach(el => el.style.display = "none");
        document.getElementById("topError").style.display = "none";
        hide(document.getElementById("successMessage"));

        // Name validation (letters and spaces only)
        if (!/^[A-Za-z ]+$/.test(name)) {
            document.getElementById("nameError").style.display = "block";
            isValid = false;
        }

        // Mobile validation: must start with +91 followed by exactly 10 digits
        if (!/^\+91\d{10}$/.test(mobile)) {
            document.getElementById("mobileError").style.display = "block";
            isValid = false;
        }

        // Email validation (basic)
        if (!/^[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(email)) {
            document.getElementById("emailError").style.display = "block";
            isValid = false;
        }

        // Message validation
        if (message.length === 0) {
            document.getElementById("messageError").style.display = "block";
            isValid = false;
        }

        // Course validation
        if (course === "") {
            document.getElementById("courseError").style.display = "block";
            isValid = false;
        }

        // If invalid, show top error
        if (!isValid) {
            document.getElementById("topError").style.display = "block";
            return;
        }

        // All good -> show success message for 10 seconds then hide
        showSuccessMessageWithTimeout();

        // Reset form after showing success (optional slight delay to ensure message visible)
        document.getElementById("enquiryForm").reset();
    });
</script>

</body>
</html>
